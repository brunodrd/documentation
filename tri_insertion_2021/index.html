
<!DOCTYPE html>

<html class="no-js" lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-7.1.3" name="generator"/>
<title>Tri par insertion - Algorithmes de tri</title>
<link href="../assets/stylesheets/main.e35208c4.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.ef6f36e2.min.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#tri-par-insertion">
          Aller au contenu
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Algorithmes de tri" class="md-header__button md-logo" data-md-component="logo" href=".." title="Algorithmes de tri">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Algorithmes de tri
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Tri par insertion
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
</form>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="..">
      Accueil
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../tri_selection/">
      Tri_par sélection
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="./">
      Tri par insertion
    </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Algorithmes de tri" class="md-nav__button md-logo" data-md-component="logo" href=".." title="Algorithmes de tri">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    Algorithmes de tri
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        Accueil
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tri_selection/">
        Tri_par sélection
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Tri par insertion
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Tri par insertion
      </a>
<nav aria-label="Table des matières" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#principe">
    Principe
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#algorithme">
    Algorithme
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#implementation-en-python">
    Implémentation en python
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#validite-de-lalgorithme">
    Validité de l'algorithme
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#efficacite-complexite-temporelle-de-lalgorithme">
    Efficacité: complexité temporelle de l'algorithme
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="tri-par-insertion">Tri par insertion</h1>
<h2 id="principe">Principe</h2>
<p>Visionner la séquence vidéo proposée.
Le tri par insertion est le tri effectué par le joueur de carte. En supposant que l'on maintienne une partie triée, on décale les cartes de cette partie, de manière à placer la carte à classer (<em>voir video</em>).  </p>
<p>En informatique, on va très souvent travailler avec un tableau et le <strong>parcourir de la gauche vers la droite, en maintenant la partie déjà triée sur sa gauche</strong> (voir <a href="https://fr.wikipedia.org/wiki/Tri_par_insertion#cite_note-1">lien wikipedia</a>).<br/>
Concrètement, on va décaler d'une case vers la droite tous les éléments déjà triés, qui sont plus grands que l'élément à classer, puis déposer ce dernier dans la case libérée.</p>
<h2 id="algorithme">Algorithme</h2>
<div class="admonition tip">
<p class="admonition-title">Notation</p>
<p>La notation <code>t[0..i-1]</code> désigne ici les <script type="math/tex">i</script> premiers éléments d'un tableau <code>t</code>, c'est-à-dire <code>t[0], t[1], ..., t[i-1]</code>.  </p>
</div>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>Algorithme Tri_insertion(t)
---------------------------
t: tableau de n éléments comparables (t[0..n-1])

Pour i allant de 1 à n-1:
    amener t[i] à sa place parmi t[0..i-1]
</code></pre></div>
</td></tr></table>
<h2 id="implementation-en-python">Implémentation en python</h2>
<p>On commence par donner une réalisation de <code>amener t[i] à sa place parmi t[0..i-1]</code> en écrivant une fonction <code>place(t, i)</code> qui amène l'élément d'index <script type="math/tex">i</script> à sa place parmi les éléments d'index 0 à <script type="math/tex">i-1</script> déjà classés.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">place</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
    <span class="sd">""" amène t[i] à sa place dans t[0..i-1] supposé trié"""</span>
    <span class="n">elt_a_classer</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">j</span> <span class="o">=</span> <span class="n">i</span>
    <span class="c1"># décalage des éléments du tableau à droite, pour trouver la place de t[i]</span>
    <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">t</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">elt_a_classer</span><span class="p">:</span>
        <span class="n">t</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="c1"># on insère l'élément à sa place</span>
    <span class="n">t</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">elt_a_classer</span>
</code></pre></div>
</td></tr></table>
<details class="note" open="open"><summary>Travail</summary><p>Implémenter le tri par insertion en python et le tester.  </p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">insertion</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="c1"># compléter le code de la fonction insertion(t), sans oublier la spécification</span>
    <span class="k">pass</span>
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1"># Test</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">insertion</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span> <span class="o">==</span> <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</code></pre></div>
</td></tr></table></p>
</details>
<h2 id="validite-de-lalgorithme">Validité de l'algorithme</h2>
<p>L'algorithme <code>Tri_insertion</code> <strong>termine</strong> car il présente une boucle bornée. La boucle conditionnelle présente dans la réalisation <code>amener t[i] à sa place parmi t[0..i-1]</code> termine également, la quantité <script type="math/tex">j</script> étant un <strong>variant</strong> de boucle.</p>
<div class="admonition tip">
<p class="admonition-title">Invariant de boucle</p>
<p>A la i-ème itération, le sous tableau <code>t[0..i-1]</code> est trié.   </p>
</div>
<p>De manière intuitive, on comprend qu'à chaque tour de boucle on se rapproche de la solution recherchée. On agrandit la zone triée de un élément. Exhiber une telle propriété (<em>un invariant de boucle</em>) permet de conclure à la correction partielle de l'algorithme.  </p>
<p>La combinaison de la correction partielle avec la terminaison permet de conclure à la <strong>correction totale de l'algorithme</strong> <code>Tri_insertion</code>.</p>
<h2 id="efficacite-complexite-temporelle-de-lalgorithme">Efficacité: complexité temporelle de l'algorithme</h2>
<p>Afin d'évaluer le coût de l'algorithme dans le pire des cas, on doit s'intéresser aux nombre d'opérations effectuées, qui est ici lié au nombre de décalage avant de trouver la place de l'élément à classer. Le pire des cas se produit lorsque le tableau est classé en sens inverse. Visualisons cela sur un tableau à 5 éléments, simple à trier: <code>t = [5, 4, 3, 2, 1]</code>.  </p>
<p><img alt="pire" src="../img/insertion_pire.png"/> </p>
<p>Le nombre de décalage nécessaire est: <script type="math/tex">1 + 2 + 3 + 4 = 10</script>.</p>
<p>On généralise sans peine: dans le pire des cas, pour un tableau de taille <code>n</code>, il faudra effectuer:</p>
<p>
<script type="math/tex; mode=display"> 1+2+\cdots + (n-2) + (n-1)=\dfrac{n}{2}\times(n-1)</script>
</p>
<p>décalages.
Comme pour le tri par sélection, le coût (on dit aussi <em>complexité</em>) en temps du tri par insertion, dans le pire des cas, est <strong>quadratique</strong>. On dit aussi que la complexité est en <script type="math/tex">O(n²)</script>.</p>
<div class="admonition info">
<p class="admonition-title">Notation</p>
<p>La notation <script type="math/tex">O(n²)</script> se lit <em>grand O de n carré</em></p>
</div>
<div class="admonition abstract">
<p class="admonition-title">Ce qu'il faut retenir</p>
<p>Le tri par insertion consiste à maintenir une partie d'un tableau triée et à parcourir la partie non triée en mettant chaque élément rencontré à sa place définitive dans la partie triée.<br/>
Ce problème est résolu habituellement par un algorithme faisant intervenir une boucle bornée et une boucle conditionnelle. La <strong>terminaison</strong> de la boucle bornée est évidente et celle de la boucle conditionelle facile à montrer avec un <strong>variant de boucle</strong>.<br/>
L'<strong>invariant de boucle</strong> <em>A la i-ème itération, le sous tableau t[0..i-1] est trié</em>, permet de conclure à sa correction partielle. La conjugaison de ces deux propriétés assure la <strong>correction totale</strong> de l'algorithme proposé.<br/>
Cet algorithme a une <strong>complexité temporelle quadratique</strong>.</p>
</div>
<hr/>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" data-md-state="hidden" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg>
</a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a class="md-footer__link md-footer__link--prev" href="../tri_selection/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Précédent
              </span>
              Tri_par sélection
            </div>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
 ... <a class="link--pdf-download" download href="../pdf/document.pdf" title="PDF">download PDF</a></div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.expand", "navigation.top", "toc.integrate", "header.autohide"], "translations": {"clipboard.copy": "Copier dans le presse-papier", "clipboard.copied": "Copi\u00e9 dans le presse-papier", "search.config.lang": "fr", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Rechercher", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
<script src="../assets/javascripts/bundle.4ea5477f.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>